<html>

<head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto+Slab:700" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.js" integrity="sha256-/M28vKoYkkMS+oTf7FRKz2azs3TwYz7j7eeMGxMWiYg=" crossorigin="anonymous"></script>
    </head>

<body>
    <h1>js-game</h1>
    <p>
        This is a game written in javascript with <em>framework</em>
    </p>

    <script>
        var game = new Phaser.Game(800, 400, Phaser.AUTO, 'js-game', {
            preload: preload,
            create: create,
            update: update,
            render: render
        });

        function preload() {
            game.load.spritesheet('dude', 'assets/dude.png', 32, 64);
        }

        function create() {
            game.stage.backgroundColor = '#221122';
            var text = game.add.text(32, 32, 'Text!', {fill: '#ffffff'});

            game.player = game.add.sprite(200, 200, 'dude', 1);
            game.player.anchor.setTo(0.5, 0.5);
            game.player.speed = 4;

            game.player.animations.add('walk', [0,1], 10, true);
        }

        function update() {
            if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT)
            && !game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)){
                game.player.x -= game.player.speed;
                game.player.scale.x = -1;
                game.player.play('walk');
            }
            else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)
            && !game.input.keyboard.isDown(Phaser.Keyboard.LEFT)){
                game.player.x += game.player.speed;
                game.player.scale.x = 1;
                game.player.play('walk');
            }
            else{
                game.player.animations.stop();
            }
        }

        function render() {

        }

    </script>
    
    <p>
        More text!
    </p>
</body>

</html>
